<?xml version='1.0' encoding='utf-8'?>
<Model Name="AntiBacklashLib.AntiBacklashController">
 <ModelTypeClass>C++</ModelTypeClass>
 <BaseModel>CDPComponent</BaseModel>
 <Element Name="Priority" Value="normal"/>
 <Attributes>
  <Attribute Name="Description" Type="string" Value="Controller for anti backlash testing"/>
  <Attribute Description="Implementation model used." Name="Model" ReadOnly="1" Required="1" SaveOnChange="0" Type="string" Value="AntiBacklashLib.AntiBacklashController"/>
 </Attributes>
 <Signals>
  <Signal Description="" Input="0" Model="CDPSignal&lt;double&gt;" Name="SpeedRef" Type="double" Unit="rad/s" Value="0.0"/>
  <Signal Description="" Input="0" Model="CDPSignal&lt;double&gt;" Name="ENC1Speed" Type="double" Unit="rad/s" Value="0.0"/>
  <Signal Input="0" Model="CDPSignal&lt;double&gt;" Name="FC1Speed" Type="double" Unit="rad/s" Value="0.0"/>
  <Signal Input="0" Model="CDPSignal&lt;double&gt;" Name="FC2Speed" Type="double" Unit="rad/s" Value="0.0"/>
  <Signal Input="0" Model="CDPSignal&lt;double&gt;" Name="FC1Torque" Type="double" Unit="Nm" Value="0.0"/>
  <Signal Input="0" Model="CDPSignal&lt;double&gt;" Name="FC2Torque" Type="double" Unit="Nm" Value="0.0"/>
  <Signal Input="0" Model="CDPSignal&lt;double&gt;" Name="FC3Torque" Type="double" Unit="Nm" Value="0.0"/>
  <Signal Input="0" Model="CDPSignal&lt;double&gt;" Name="ENC1Position" Type="double" Unit="째" Value="0.0"/>
  <Signal Input="0" Model="CDPSignal&lt;double&gt;" Name="FC1Position" Type="double" Unit="째" Value="0.0"/>
  <Signal Input="0" Model="CDPSignal&lt;double&gt;" Name="FC2Position" Type="double" Unit="째" Value="0.0"/>
  <Signal Input="0" Model="CDPSignal&lt;double&gt;" Name="FC3Position" Type="double" Unit="째" Value="0.0"/>
  <Signal Input="0" Model="CDPSignal&lt;bool&gt;" Name="Running" Type="bool"/>
  <Signal Input="0" Model="CDPSignal&lt;int&gt;" Name="TestIndex" Type="int"/>
 </Signals>
 <Parameters/>
 <Ports>
  <Port Input="0" Model="VaconLib.VaconMarineAppFCPort" Name="FC1">
   <Connections>
    <Connection Input="0" Name="MapEnable"/>
    <Connection Input="0" Name="MapModeSelect"/>
    <Connection Input="0" Name="MapSpeedRef"/>
    <Connection Input="0" Name="MapTorqueRef"/>
    <Connection Input="0" Name="MapTorqueLimitMotoring"/>
    <Connection Input="0" Name="MapTorqueLimitGeneratoring"/>
    <Connection Input="0" Name="MapPowerLimitMotoring"/>
    <Connection Input="0" Name="MapPowerLimitGeneratoring"/>
    <Connection Input="0" Name="MapLoadDrooping"/>
    <Connection Input="0" Name="MapMasterFollowerMode"/>
    <Connection Input="1" Name="MapStatusFlags"/>
    <Connection Input="1" Name="MapSpeedActual"/>
    <Connection Input="1" Name="MapTorqueActual"/>
   </Connections>
  </Port>
  <Port Input="0" Model="VaconLib.VaconMarineAppFCPort" Name="FC2">
   <Connections>
    <Connection Input="1" Name="MapStatusFlags"/>
    <Connection Input="1" Name="MapSpeedActual"/>
    <Connection Input="1" Name="MapTorqueActual"/>
    <Connection Input="0" Name="MapMasterFollowerMode"/>
    <Connection Input="0" Name="MapLoadDrooping"/>
    <Connection Input="0" Name="MapEnable"/>
    <Connection Input="0" Name="MapModeSelect"/>
    <Connection Input="0" Name="MapSpeedRef"/>
    <Connection Input="0" Name="MapTorqueRef"/>
    <Connection Input="0" Name="MapTorqueLimitMotoring"/>
    <Connection Input="0" Name="MapTorqueLimitGeneratoring"/>
    <Connection Input="0" Name="MapPowerLimitMotoring"/>
    <Connection Input="0" Name="MapPowerLimitGeneratoring"/>
   </Connections>
  </Port>
  <Port Input="0" Model="VaconLib.VaconMarineAppFCPort" Name="FC3">
   <Connections>
    <Connection Input="1" Name="MapStatusFlags"/>
    <Connection Input="1" Name="MapSpeedActual"/>
    <Connection Input="1" Name="MapTorqueActual"/>
    <Connection Input="0" Name="MapEnable"/>
    <Connection Input="0" Name="MapModeSelect"/>
    <Connection Input="0" Name="MapSpeedRef"/>
    <Connection Input="0" Name="MapTorqueRef"/>
    <Connection Input="0" Name="MapTorqueLimitMotoring"/>
    <Connection Input="0" Name="MapTorqueLimitGeneratoring"/>
    <Connection Input="0" Name="MapPowerLimitMotoring"/>
    <Connection Input="0" Name="MapPowerLimitGeneratoring"/>
    <Connection Input="0" Name="MapLoadDrooping"/>
    <Connection Input="0" Name="MapMasterFollowerMode"/>
   </Connections>
  </Port>
  <Port Connected="0" DataConsistency="1" Description="Simple CANOpen encoder port" Input="1" Model="AntiBacklashLib.EncoderPort" Name="ENC1" RolePermissions="" Routing="">
   <Connections>
    <Connection Name="Mapposition" RemoteName=".TPDO1.Position"/>
   </Connections>
  </Port>
  <Port Description="" Model="AntiBacklashLib.SimCmdPort" Name="SimCmd"/>
  <Port Model="AntiBacklashLib.ShaftPort" Name="S1"/>
  <Port Model="AntiBacklashLib.ShaftPort" Name="S2"/>
  <Port Model="AntiBacklashLib.ShaftPort" Name="S3"/>
  <Port Model="AntiBacklashLib.ABParamPort" Name="ABParams"/>
 </Ports>
 <States>
  <State Description="" Name="SpeedCmdOffset"/>
  <State Description="" Name="AdaptiveTorque"/>
  <State Name="ConstTorque"/>
  <State Name="SlaveDrooping"/>
  <State Name="ActualPositionOffset"/>
  <State Name="SlaveSpeedRefDelay"/>
  <State Description="" Name="SimpleBacklash"/>
  <State Description="" Name="SimpleAntiBacklash"/>
 </States>
 <StateTransitions>
  <StateTransition Description="" FromState="Null" Name="NullToSimpleAntiBacklash" ToState="SimpleAntiBacklash"/>
  <StateTransition Description="" FromState="SimpleAntiBacklash" Name="SimpleAntiBacklashToNull" ToState="Null"/>
  <StateTransition FromState="Null" Name="NullToRunning" ToState="Running"/>
  <StateTransition FromState="Running" Name="RunningToNull" ToState="Null"/>
  <StateTransition FromState="Null" Name="NullToSpeedTimerTest" ToState="SpeedTimerTest"/>
  <StateTransition FromState="SpeedTimerTest" Name="SpeedTimerTestToNull" ToState="Null"/>
  <StateTransition FromState="Null" Name="NullToConstTorque" ToState="ConstTorque"/>
  <StateTransition FromState="ConstTorque" Name="ConstTorqueToNull" ToState="Null"/>
  <StateTransition FromState="Null" Name="NullToSlaveDrooping" ToState="SlaveDrooping"/>
  <StateTransition FromState="SlaveDrooping" Name="SlaveDroopingToNull" ToState="Null"/>
  <StateTransition FromState="Null" Name="NullToActualPositionOffset" ToState="ActualPositionOffset"/>
  <StateTransition FromState="ActualPositionOffset" Name="ActualPositionOffsetToNull" ToState="Null"/>
  <StateTransition FromState="Null" Name="NullToSlaveSpeedRefDelay" ToState="SlaveSpeedRefDelay"/>
  <StateTransition FromState="SlaveSpeedRefDelay" Name="SlaveSpeedRefDelayToNull" ToState="Null"/>
  <StateTransition FromState="Null" Name="NullToConstrainedSlaveAcceleration" ToState="ConstrainedSlaveAcceleration"/>
  <StateTransition FromState="ConstrainedSlaveAcceleration" Name="ConstrainedSlaveAccelerationToNull" ToState="Null"/>
  <StateTransition FromState="Null" Name="NullToSimpleTorque" ToState="SimpleTorque"/>
  <StateTransition FromState="SimpleTorque" Name="SimpleTorqueToNull" ToState="Null"/>
 </StateTransitions>
 <Element Description="The Frequency [Hz] that the component statemachine is run at." DisplayHint="Important" Model="PropertyAsElement" Name="fs" Required="1" Type="double" Unit="Hz" Value="100"/>
</Model>
